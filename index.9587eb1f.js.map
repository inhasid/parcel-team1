{"mappings":"AAeA,MAAMA,EACG,gBADHA,EAEM,SAGNC,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,IAAKF,SAASC,cAAc,cAC5BE,WAAYH,SAASC,cAAc,uBACnCG,cAAeJ,SAASC,cAAc,0BACtCI,KAAML,SAASC,cAAc,UAK3BK,EAAO,GAiCb,SAASC,IACLT,EAAKI,IAAIM,YAAc,SACvBV,EAAKK,WAAWM,aAAa,YAAY,GACzCX,EAAKM,cAAcK,aAAa,YAAY,GAC5CX,EAAKO,KAAKK,MAAMC,QAAU,M,CAnC9Bb,EAAKC,YAAYa,iBAAiB,SAGlC,SAAoBC,GAChB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EAAEG,OAC1BV,EAAKQ,GAAQC,EACbE,QAAQC,IAAIZ,E,IALhBR,EAAKC,YAAYa,iBAAiB,UAQlC,SAAkBC,GAEd,GADAA,EAAEM,iBAC2B,WAAzBrB,EAAKI,IAAIM,YAMT,OALAV,EAAKI,IAAIM,YAAc,QACvBV,EAAKK,WAAWiB,gBAAgB,YAChCtB,EAAKM,cAAcgB,gBAAgB,YACnCC,aAAaC,WAAW,kBACxBxB,EAAKO,KAAKK,MAAMC,QAAU,QAG9B,IAAKL,EAAKiB,QAAUjB,EAAKkB,SAAU,OAAOC,MAAM,mBAChD,GAAI5B,IAAoBS,EAAKiB,OAAS1B,IAAuBS,EAAKkB,SAAU,OAAOC,MAAM,kBACzFJ,aAAaK,QAAQ,YAAaC,KAAKC,UAAUtB,IACjDC,IACAM,EAAEgB,cAAcC,O,IAGZT,aAAaU,QAAQ,cACrBxB","sources":["src/js/login.js"],"sourcesContent":["// TODO:=========================================\n// ЗАДАЧА 1\n\n// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// недоступними для змін.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nconst USER_DATA = {\n  email: \"user@mail.com\",\n  password: \"secret\",\n};\n\nconst refs = {\n    formElement: document.querySelector('.login-form'),\n    btn: document.querySelector('.login-btn'),\n    inputLogin: document.querySelector('input[name=\"email\"]'),\n    inputPassword: document.querySelector('input[name=\"password\"]'),  \n    todo: document.querySelector('.todo'), \n}\n\n\n\nconst data = {};\n\nrefs.formElement.addEventListener('input', onSaveData);\nrefs.formElement.addEventListener('submit', onSubmit);\n\nfunction onSaveData(e) {\n    const { name, value } = e.target;\n    data[name] = value;\n    console.log(data);\n}\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    if (refs.btn.textContent === 'logout') {\n        refs.btn.textContent = 'login';\n        refs.inputLogin.removeAttribute('readonly');\n        refs.inputPassword.removeAttribute('readonly');\n        localStorage.removeItem('form-data');\n        refs.todo.style.display = 'none';\n        return;\n    }\n    if (!data.email || !data.password) return alert('Fill all fields')\n    if (USER_DATA.email !== data.email || USER_DATA.password !== data.password) return alert('Uncorrect data')\n    localStorage.setItem('form-data', JSON.stringify(data));\n    loginUser();\n    e.currentTarget.reset();\n}\nfunction populateData() {\n    if (localStorage.getItem('form-data')) {\n        loginUser();\n     }\n }\n\nfunction loginUser() {\n    refs.btn.textContent = 'logout';\n    refs.inputLogin.setAttribute('readonly', true);\n    refs.inputPassword.setAttribute('readonly', true);\n    refs.todo.style.display = 'flex';\n}\n \n\npopulateData();"],"names":["$27435ee7e70aa165$var$USER_DATA","$27435ee7e70aa165$var$refs","formElement","document","querySelector","btn","inputLogin","inputPassword","todo","$27435ee7e70aa165$var$data","$27435ee7e70aa165$var$loginUser","textContent","setAttribute","style","display","addEventListener","e","name","value","target","console","log","preventDefault","removeAttribute","localStorage","removeItem","email","password","alert","setItem","JSON","stringify","currentTarget","reset","getItem"],"version":3,"file":"index.9587eb1f.js.map"}